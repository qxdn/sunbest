<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html">
    <meta charset="utf-8">
    <base th:href="@{/}">
    <title>节能效果</title>
    <script type="text/javascript" src="js/echarts.min.js"></script>
</head>


<body>
    <div>
        <div>
            <ol>
                <li>
                    <div>
                        <label>输入数据</label>
                        <hr>
                        <p>经度:<span th:text="${answer.lon}"></span>°</p>
                        <p>纬度:<span th:text="${answer.lat}"></span>°</p>
                        <p>设定角度:<span th:text="${answer.userAngle}"></span>°</p>
                        <hr>
                    </div>
                </li>
                <li>
                    <div>
                        <label>计算结果</label>
                        <hr>
                        <p>最佳倾角:<span th:text="${#numbers.formatDecimal(answer.bestAngle,1,2)}"></span>°</p>
                    <p>年平均发电量:<span th:text="${#numbers.formatDecimal(answer.averagePowerGeneration,1,2)}"></span> kWh/m²/day</p>
                    <p>开窗面积<span th:text="${#numbers.formatDecimal(answer.area,1,2)}"></span>m²</p>
                    <hr>
                </div>
            </li>
            <li>
                <div>
                    <label>节能效果</label>
                    <hr>
                    <p>节约照明用电:<span th:text="${#numbers.formatDecimal(answer.savePower,1,2)}"></span>kw/h</p>
                    <p>年预计发电量:<span th:text="${#numbers.formatDecimal(answer.expectPowerGeneration,1,2)}"></span>°</p>
                </div>
            </li>
        </ol>
            <hr>
    </div>
        <div id="show" style="width: 1500px;height:600px;">

        </div>
    <script th:inline="javascript">
        var myChart = echarts.init(document.getElementById('show'));
        var option = {
        title: {
            text: '预期发电效率'
        },
        tooltip: {},
        legend: {
            data: ['最佳发电效率','当前发电效率']
        },
        xAxis: {
            data: ["1月", "2月", "3月", "4月", "5月", "6月","7月","8月","9月","10月","11月","12月"]
        },
      yAxis: {
          axisLabel: {
            formatter: '{value} (KW*H/Day)'
        }
      },
      series: [{
        name: '最佳发电效率',
        type: 'bar',
         itemStyle: {
          barBorderRadius: 5,
          color: new echarts.graphic.LinearGradient(
            0, 0, 0, 1,
            [
              { offset: 0, color: '#14c8d4' },
              { offset: 1, color: '#43eec6' }
            ]
          )
        },
        data: [[${answer.bestPower}]]
      }, {
        name: '当前发电效率',
        type: 'bar',
        itemStyle: {
          barBorderRadius: 5,
          color: new echarts.graphic.LinearGradient(
            0, 0, 0, 1,
            [
              { offset: 0, color: '#FF0000' },
              { offset: 1, color: '#000000' }
            ]
          )
        },
        data: [[${answer.currentPower}]]
      }],
      animationEasing: 'elasticOut',
      animationDelayUpdate: function (idx) {
        return idx * 5;
      }
    };
    myChart.setOption(option);
    </script>
</body>


</html>